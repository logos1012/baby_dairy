
> backend@1.0.0 start
> node dist/server.js

[dotenv@17.0.1] injecting env (9) from .env ‚Äì [tip] encrypt with dotenvx: https://dotenvx.com
prisma:info Starting a sqlite pool with 17 connections.
‚úÖ Database connected successfully
üöÄ Server is running on port 3001
üì¶ Environment: development
üåê API URL: http://localhost:3001/api
::1 - - [04/Jul/2025:05:53:07 +0000] "GET /health HTTP/1.1" 200 54 "-" "curl/8.7.1"
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`profileImage`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE (`main`.`users`.`email` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`family_members`.`id`, `main`.`family_members`.`role`, `main`.`family_members`.`joinedAt`, `main`.`family_members`.`userId`, `main`.`family_members`.`familyId` FROM `main`.`family_members` WHERE `main`.`family_members`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`families`.`id`, `main`.`families`.`name`, `main`.`families`.`inviteCode`, `main`.`families`.`createdAt`, `main`.`families`.`updatedAt` FROM `main`.`families` WHERE `main`.`families`.`id` IN (?) LIMIT ? OFFSET ?
::1 - - [04/Jul/2025:05:54:59 +0000] "POST /api/auth/login HTTP/1.1" 200 514 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`family_members`.`id`, `main`.`family_members`.`role`, `main`.`family_members`.`joinedAt`, `main`.`family_members`.`userId`, `main`.`family_members`.`familyId` FROM `main`.`family_members` WHERE `main`.`family_members`.`userId` = ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`families`.`id`, `main`.`families`.`name`, `main`.`families`.`inviteCode`, `main`.`families`.`createdAt`, `main`.`families`.`updatedAt` FROM `main`.`families` WHERE `main`.`families`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count._all` FROM (SELECT `main`.`posts`.`id` FROM `main`.`posts` WHERE `main`.`posts`.`familyId` = ? LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT `main`.`posts`.`id`, `main`.`posts`.`content`, `main`.`posts`.`mediaUrls`, `main`.`posts`.`mediaType`, `main`.`posts`.`tags`, `main`.`posts`.`createdAt`, `main`.`posts`.`updatedAt`, `main`.`posts`.`authorId`, `main`.`posts`.`familyId`, COALESCE(`aggr_selection_0_Like`.`_aggr_count_likes`, 0) AS `_aggr_count_likes`, COALESCE(`aggr_selection_1_Comment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`posts` LEFT JOIN (SELECT `main`.`likes`.`postId`, COUNT(*) AS `_aggr_count_likes` FROM `main`.`likes` WHERE 1=1 GROUP BY `main`.`likes`.`postId`) AS `aggr_selection_0_Like` ON (`main`.`posts`.`id` = `aggr_selection_0_Like`.`postId`) LEFT JOIN (SELECT `main`.`comments`.`postId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`comments` WHERE 1=1 GROUP BY `main`.`comments`.`postId`) AS `aggr_selection_1_Comment` ON (`main`.`posts`.`id` = `aggr_selection_1_Comment`.`postId`) WHERE `main`.`posts`.`familyId` = ? ORDER BY `main`.`posts`.`createdAt` DESC LIMIT ? OFFSET ?
::1 - - [04/Jul/2025:05:55:00 +0000] "GET /api/posts?page=1&limit=10 HTTP/1.1" 200 130 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`family_members`.`id`, `main`.`family_members`.`role`, `main`.`family_members`.`joinedAt`, `main`.`family_members`.`userId`, `main`.`family_members`.`familyId` FROM `main`.`family_members` WHERE `main`.`family_members`.`userId` = ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`families`.`id`, `main`.`families`.`name`, `main`.`families`.`inviteCode`, `main`.`families`.`createdAt`, `main`.`families`.`updatedAt` FROM `main`.`families` WHERE `main`.`families`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count._all` FROM (SELECT `main`.`posts`.`id` FROM `main`.`posts` WHERE `main`.`posts`.`familyId` = ? LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT `main`.`posts`.`id`, `main`.`posts`.`content`, `main`.`posts`.`mediaUrls`, `main`.`posts`.`mediaType`, `main`.`posts`.`tags`, `main`.`posts`.`createdAt`, `main`.`posts`.`updatedAt`, `main`.`posts`.`authorId`, `main`.`posts`.`familyId`, COALESCE(`aggr_selection_0_Like`.`_aggr_count_likes`, 0) AS `_aggr_count_likes`, COALESCE(`aggr_selection_1_Comment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`posts` LEFT JOIN (SELECT `main`.`likes`.`postId`, COUNT(*) AS `_aggr_count_likes` FROM `main`.`likes` WHERE 1=1 GROUP BY `main`.`likes`.`postId`) AS `aggr_selection_0_Like` ON (`main`.`posts`.`id` = `aggr_selection_0_Like`.`postId`) LEFT JOIN (SELECT `main`.`comments`.`postId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`comments` WHERE 1=1 GROUP BY `main`.`comments`.`postId`) AS `aggr_selection_1_Comment` ON (`main`.`posts`.`id` = `aggr_selection_1_Comment`.`postId`) WHERE `main`.`posts`.`familyId` = ? ORDER BY `main`.`posts`.`createdAt` DESC LIMIT ? OFFSET ?
::1 - - [04/Jul/2025:05:55:00 +0000] "GET /api/posts?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
ÌååÏùº ÏóÖÎ°úÎìú Ïã§Ìå® (IMG_3344.jpg): {
  message: 'Unknown API key your-cloudinary-api-key',
  name: 'Error',
  http_code: 401
}
ÌååÏùº ÏóÖÎ°úÎìú Ïò§Î•ò: Error: ÌååÏùº ÏóÖÎ°úÎìú Ïã§Ìå®: IMG_3344.jpg
    at /Users/jake_air/Desktop/test/backend/dist/controllers/uploadController.js:50:23
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Promise.all (index 0)
    at async uploadFiles (/Users/jake_air/Desktop/test/backend/dist/controllers/uploadController.js:53:31)
::1 - - [04/Jul/2025:05:55:51 +0000] "POST /api/upload/files HTTP/1.1" 500 67 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
ÌååÏùº ÏóÖÎ°úÎìú Ïã§Ìå® (IMG_3344.jpg): {
  message: 'Unknown API key your-cloudinary-api-key',
  name: 'Error',
  http_code: 401
}
ÌååÏùº ÏóÖÎ°úÎìú Ïò§Î•ò: Error: ÌååÏùº ÏóÖÎ°úÎìú Ïã§Ìå®: IMG_3344.jpg
    at /Users/jake_air/Desktop/test/backend/dist/controllers/uploadController.js:50:23
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Promise.all (index 0)
    at async uploadFiles (/Users/jake_air/Desktop/test/backend/dist/controllers/uploadController.js:53:31)
::1 - - [04/Jul/2025:05:55:56 +0000] "POST /api/upload/files HTTP/1.1" 500 67 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`profileImage`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE (`main`.`users`.`email` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`family_members`.`id`, `main`.`family_members`.`role`, `main`.`family_members`.`joinedAt`, `main`.`family_members`.`userId`, `main`.`family_members`.`familyId` FROM `main`.`family_members` WHERE `main`.`family_members`.`userId` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`families`.`id`, `main`.`families`.`name`, `main`.`families`.`inviteCode`, `main`.`families`.`createdAt`, `main`.`families`.`updatedAt` FROM `main`.`families` WHERE `main`.`families`.`id` IN (?) LIMIT ? OFFSET ?
::1 - - [04/Jul/2025:05:57:18 +0000] "POST /api/auth/login HTTP/1.1" 200 514 "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`family_members`.`id`, `main`.`family_members`.`role`, `main`.`family_members`.`joinedAt`, `main`.`family_members`.`userId`, `main`.`family_members`.`familyId` FROM `main`.`family_members` WHERE `main`.`family_members`.`userId` = ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`families`.`id`, `main`.`families`.`name`, `main`.`families`.`inviteCode`, `main`.`families`.`createdAt`, `main`.`families`.`updatedAt` FROM `main`.`families` WHERE `main`.`families`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT 1
prisma:query SELECT COUNT(*) AS `_count._all` FROM (SELECT `main`.`posts`.`id` FROM `main`.`posts` WHERE `main`.`posts`.`familyId` = ? LIMIT ? OFFSET ?) AS `sub`
prisma:query SELECT `main`.`posts`.`id`, `main`.`posts`.`content`, `main`.`posts`.`mediaUrls`, `main`.`posts`.`mediaType`, `main`.`posts`.`tags`, `main`.`posts`.`createdAt`, `main`.`posts`.`updatedAt`, `main`.`posts`.`authorId`, `main`.`posts`.`familyId`, COALESCE(`aggr_selection_0_Like`.`_aggr_count_likes`, 0) AS `_aggr_count_likes`, COALESCE(`aggr_selection_1_Comment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`posts` LEFT JOIN (SELECT `main`.`likes`.`postId`, COUNT(*) AS `_aggr_count_likes` FROM `main`.`likes` WHERE 1=1 GROUP BY `main`.`likes`.`postId`) AS `aggr_selection_0_Like` ON (`main`.`posts`.`id` = `aggr_selection_0_Like`.`postId`) LEFT JOIN (SELECT `main`.`comments`.`postId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`comments` WHERE 1=1 GROUP BY `main`.`comments`.`postId`) AS `aggr_selection_1_Comment` ON (`main`.`posts`.`id` = `aggr_selection_1_Comment`.`postId`) WHERE `main`.`posts`.`familyId` = ? ORDER BY `main`.`posts`.`createdAt` DESC LIMIT ? OFFSET ?
::1 - - [04/Jul/2025:05:57:19 +0000] "GET /api/posts?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`name` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`family_members`.`id`, `main`.`family_members`.`role`, `main`.`family_members`.`joinedAt`, `main`.`family_members`.`userId`, `main`.`family_members`.`familyId` FROM `main`.`family_members` WHERE `main`.`family_members`.`userId` = ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`families`.`id`, `main`.`families`.`name`, `main`.`families`.`inviteCode`, `main`.`families`.`createdAt`, `main`.`families`.`updatedAt` FROM `main`.`families` WHERE `main`.`families`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`posts`.`id`, `main`.`posts`.`content`, `main`.`posts`.`mediaUrls`, `main`.`posts`.`mediaType`, `main`.`posts`.`tags`, `main`.`posts`.`createdAt`, `main`.`posts`.`updatedAt`, `main`.`posts`.`authorId`, `main`.`posts`.`familyId`, COALESCE(`aggr_selection_0_Like`.`_aggr_count_likes`, 0) AS `_aggr_count_likes`, COALESCE(`aggr_selection_1_Comment`.`_aggr_count_comments`, 0) AS `_aggr_count_comments` FROM `main`.`posts` LEFT JOIN (SELECT `main`.`likes`.`postId`, COUNT(*) AS `_aggr_count_likes` FROM `main`.`likes` WHERE 1=1 GROUP BY `main`.`likes`.`postId`) AS `aggr_selection_0_Like` ON (`main`.`posts`.`id` = `aggr_selection_0_Like`.`postId`) LEFT JOIN (SELECT `main`.`comments`.`postId`, COUNT(*) AS `_aggr_count_comments` FROM `main`.`comments` WHERE 1=1 GROUP BY `main`.`comments`.`postId`) AS `aggr_selection_1_Comment` ON (`main`.`posts`.`id` = `aggr_selection_1_Comment`.`postId`) WHERE `main`.`posts`.`familyId` = ? ORDER BY `main`.`posts`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count._all` FROM (SELECT `main`.`posts`.`id` FROM `main`.`posts` WHERE `main`.`posts`.`familyId` = ? LIMIT ? OFFSET ?) AS `sub`
::1 - - [04/Jul/2025:05:57:19 +0000] "GET /api/posts?page=1&limit=10 HTTP/1.1" 304 - "http://localhost:3000/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"

‚è≥ Shutting down gracefully...
üîå Database disconnected
